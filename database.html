<!DOCTYPE html>
<html lang="en">
<head>
     <meta charset="UTF-8">
     <meta http-equiv="X-UA-Compatible" content="IE=edge">
     <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>Bargen</title>
     <!---<script src="https://cdnjs.cloudflare.com/ajax/libs/jsbarcode/3.11.5/JsBarcode.all.min.js" integrity="sha512-QEAheCz+x/VkKtxeGoDq6nsGyzTx/0LMINTgQjqZ0h3+NjP+bCsPYz3hn0HnBkGmkIFSr7QcEZT+KyEM7lbLPQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
     <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.0/jquery.min.js" integrity="sha512-894YE6QWD5I59HgZOGReFYm4dnWc1Qt5NtvYSaNcOP+u1T9qYdvdihz0PPSiiqn/+/3e7Jo4EaG7TubfWGUrMQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>-->
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
     <link rel="stylesheet" href="styles.css">
</head>

<body>
     <header class="head bg-primary">
          <nav >
               <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="database.html">Register</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
               </ul>
          </nav>
     </header>
     <div class="container">
          <h2>DIGITAX</h2>
          <h3>Register New Vehicle</h3><hr>
               <form action="" id="db-form">
                    <div class="err"></div> 
                    <input type="text" class="form-control" id="dr-name" placeholder="Name of Driver">
                    <input type="text" class="form-control" id="number" placeholder="Vehicle Plate Number">
                    <input type="date" class="form-control" name="" id="reg-date">
                    <input type="submit" class="btn btn-primary" id="btn-db" value="Save">
               </form>
     </div>
     <footer>
          &copysr; Powered by Brama Wireless 2022
     </footer>
     <!---<script src="script.js"></script>-->
     <script type="module">
          // Import the functions you need from the SDKs you need
          import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-app.js";
          //import { getStorage } from "firebase/storage";
          //import { initializeDatabase } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js";
          import { getDatabase } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-database.js";

          // ddd
          //import { collection, getDocs, addDoc, Timestamp } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"
          //import { query, orderBy, limit, where, onSnapshot } from "https://www.gstatic.com/firebasejs/9.1.1/firebase-firestore.js"

          import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.6.7/firebase-analytics.js";
          // TODO: Add SDKs for Firebase products that you want to use
          // https://firebase.google.com/docs/web/setup#available-libraries
        
          // Your web app's Firebase configuration
          // For Firebase JS SDK v7.20.0 and later, measurementId is optional
          const firebaseConfig = {
            apiKey: "AIzaSyBOckQ5AKyGVt-yDLM2zO229qk22UOgi5c",
            authDomain: "digitax-2.firebaseapp.com",
            databaseURL: "https://digitax-2-default-rtdb.firebaseio.com",
            projectId: "digitax-2",
            storageBucket: "digitax-2.appspot.com",
            messagingSenderId: "629999366424",
            appId: "1:629999366424:web:36bc61dc973f7c9586ee6d",
            measurementId: "G-QZC7X2RW83"
          };
        
          // Initialize Firebase
          const app = initializeApp(firebaseConfig);
          const database = getDatabase(firebase);
          const analytics = getAnalytics(app);
          //const db = getFirestore(app);

          //export { app, db, collection, getDocs, Timestamp, addDoc };
          //export { query, orderBy, limit, where, onSnapshot };
          

          let person = {
               name: 'kamel',
               age: 39
          }

          firebase.database().ref('/').set(person);

          const dbForm = document.querySelector('#db-form');
          const drName = document.querySelector('#dr-name');
          const number = document.querySelector('#number');
          const regDate = document.querySelector('#reg-date');
          const errMsg = document.querySelector('#err');

          dbForm.addEventListener('submit', onSubmit);

          function onSubmit(e) {
               e.preventDefault();
               console.log('Clicked');
               if(drName ==='' || number ==='' || regDate ==='' ) {
                    errMsg.innerHTML = 'All fields are required';
                    //document.getElementsByName('.err').innerHTML = 'All fields are required';
               } else {
                    //const dbForm = document.querySelector('#db-form');
                    const drName = document.querySelector('dr-name');
                    const number = document.querySelector('number');
                    const regDate = document.querySelector('reg-date');

                    /*let driver = {
                         name: drName,
                         Plate: number,
                         date: regDate
                    }

                    firebase.database().ref('/').set(driver);*/
               }
          }
        </script>
</body>
</html>